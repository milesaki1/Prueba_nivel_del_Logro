<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Denuncias - Municipio</title>
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-building"></i> APNL</h2>
        </div>
        <nav class="sidebar-nav">
            <a href="#" class="nav-item" data-page="escritorio">
                <i class="fas fa-th-large"></i>
                <span>Escritorio</span>
            </a>
            <a href="#" class="nav-item active" data-page="denuncias">
                <i class="fas fa-building"></i>
                <span>Denuncias</span>
            </a>
            <a href="#" class="nav-item" data-page="acerca">
                <i class="fas fa-info-circle"></i>
                <span>Acerca de</span>
            </a>
        </nav>
    </aside>

    <!-- Main Content -->
    <div class="main-container">
        <!-- Top Bar -->
        <header class="top-bar">
            <div class="top-bar-left">
                <button class="menu-toggle" id="menuToggle">
                    <i class="fas fa-bars"></i>
                </button>
                <nav class="breadcrumb" id="breadcrumb">
                    <a href="#" data-page="escritorio"><i class="fas fa-th-large"></i> Escritorio</a>
                    <span class="separator">/</span>
                    <a href="#" data-page="denuncias"><i class="fas fa-building"></i> Denuncias</a>
                </nav>
            </div>
            <div class="top-bar-right">
                <span class="user-info">
                    <i class="fas fa-user"></i> PNL - Ing. Sistemas
                </span>
                <button class="icon-btn"><i class="fas fa-bell"></i></button>
                <button class="icon-btn"><i class="fas fa-expand"></i></button>
                <button class="icon-btn"><i class="fas fa-th"></i></button>
            </div>
        </header>

        <!-- Content Area -->
        <main class="content-area">
            <!-- Página: Escritorio -->
            <div id="pageEscritorio" class="page-content" style="display: none;">
                <div class="page-header">
                    <h1><i class="fas fa-th-large"></i> Escritorio</h1>
                </div>
                
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #3b82f6;">
                            <i class="fas fa-clipboard-list"></i>
                        </div>
                        <div class="card-content">
                            <h3 id="totalDenuncias">0</h3>
                            <p>Total de Denuncias</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #f59e0b;">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="card-content">
                            <h3 id="denunciasPendientes">0</h3>
                            <p>Pendientes</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #10b981;">
                            <i class="fas fa-spinner"></i>
                        </div>
                        <div class="card-content">
                            <h3 id="denunciasProceso">0</h3>
                            <p>En Proceso</p>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-icon" style="background-color: #06b6d4;">
                            <i class="fas fa-check-circle"></i>
                        </div>
                        <div class="card-content">
                            <h3 id="denunciasResueltas">0</h3>
                            <p>Resueltas</p>
                        </div>
                    </div>
                </div>
                
                <div class="dashboard-section">
                    <h2>Resumen de Actividad</h2>
                    <div class="activity-list" id="activityList">
                        <!-- Se cargará dinámicamente -->
                    </div>
                </div>
            </div>

            <!-- Página: Denuncias -->
            <div id="pageDenuncias" class="page-content">
                <div class="page-header">
                    <h1>Denuncias</h1>
                    <button class="btn btn-primary" id="btnNuevo">
                        <i class="fas fa-file-alt"></i> Nuevo
                    </button>
                </div>

                <!-- Search Bar -->
                <div class="search-bar">
                    <input type="text" id="searchInput" placeholder="Buscar por título, ciudadano o ubicación..." class="search-input">
                    <button class="btn btn-primary" id="btnBuscar">
                        <i class="fas fa-search"></i> Buscar
                    </button>
                </div>

                <!-- Table Container -->
                <div class="table-container">
                    <table class="data-table" id="denunciasTable">
                        <thead>
                            <tr>
                                <th>Opciones</th>
                                <th>ID</th>
                                <th>Título</th>
                                <th>Descripción</th>
                                <th>Ubicación</th>
                                <th>Ciudadano</th>
                                <th>Fecha</th>
                                <th>Estado</th>
                            </tr>
                        </thead>
                        <tbody id="denunciasBody">
                            <!-- Los datos se cargarán dinámicamente -->
                        </tbody>
                    </table>
                </div>

                <!-- Pagination -->
                <div class="pagination" id="pagination">
                    <!-- La paginación se generará dinámicamente -->
                </div>
            </div>

            <!-- Página: Acerca de -->
            <div id="pageAcerca" class="page-content" style="display: none;">
                <div class="page-header">
                    <h1><i class="fas fa-info-circle"></i> Acerca de</h1>
                </div>
                
                <div class="about-container">
                    <div class="about-card">
                        <div class="about-icon">
                            <i class="fas fa-building"></i>
                        </div>
                        <h2>Sistema de Gestión de Denuncias Municipales</h2>
                        <p class="version">Versión 1.0.0</p>
                    </div>
                    
                    <div class="about-section">
                        <h3><i class="fas fa-info-circle"></i> Descripción</h3>
                        <p>
                            Plataforma digital desarrollada para permitir a los ciudadanos realizar denuncias 
                            sobre diferentes problemas urbanos, como baches en las calles, mal estado de los 
                            parques, recolección de basura inadecuada, entre otros. El sistema permite gestionar 
                            estas denuncias de manera eficiente, facilitando el seguimiento y resolución de 
                            problemas municipales.
                        </p>
                    </div>
                    
                    <div class="about-section">
                        <h3><i class="fas fa-user"></i> Desarrollador</h3>
                        <div class="developer-info">
                            <p><strong>Nombre:</strong> Milenka Segundo Arteaga</p>
                            <p><strong>Título:</strong> Ingeniera de Sistemas</p>
                            <p><strong>Institución:</strong> Universidad Señor de Sipán (USS)</p>
                            <p><strong>Año:</strong> 2025</p>
                        </div>
                    </div>
                    
                    <div class="about-section">
                        <h3><i class="fas fa-cogs"></i> Tecnologías Utilizadas</h3>
                        <div class="tech-list">
                            <div class="tech-item">
                                <i class="fab fa-php"></i>
                                <span>PHP 7.4+</span>
                            </div>
                            <div class="tech-item">
                                <i class="fas fa-database"></i>
                                <span>MySQL</span>
                            </div>
                            <div class="tech-item">
                                <i class="fab fa-html5"></i>
                                <span>HTML5</span>
                            </div>
                            <div class="tech-item">
                                <i class="fab fa-css3-alt"></i>
                                <span>CSS3</span>
                            </div>
                            <div class="tech-item">
                                <i class="fab fa-js"></i>
                                <span>JavaScript (ES6+)</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="about-section">
                        <h3><i class="fas fa-list-check"></i> Funcionalidades</h3>
                        <ul class="features-list">
                            <li><i class="fas fa-check"></i> Gestión completa de denuncias (CRUD)</li>
                            <li><i class="fas fa-check"></i> Búsqueda avanzada por título, ciudadano o ubicación</li>
                            <li><i class="fas fa-check"></i> Sistema de paginación</li>
                            <li><i class="fas fa-check"></i> Estados de denuncias (Pendiente, En proceso, Resuelto)</li>
                            <li><i class="fas fa-check"></i> Diseño responsive para móviles y escritorio</li>
                            <li><i class="fas fa-check"></i> Arquitectura en capas (Modelo-Vista-Controlador)</li>
                            <li><i class="fas fa-check"></i> API REST</li>
                        </ul>
                    </div>
                    
                    <div class="about-section">
                        <h3><i class="fas fa-envelope"></i> Contacto</h3>
                        <p>
                            Para más información o soporte técnico, contactar a:
                            <br>
                            <strong>Milenka Segundo Arteaga</strong>
                            <br>
                            <i class="fas fa-graduation-cap"></i> Universidad Señor de Sipán (USS)
                        </p>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-left">
                <p>Copyright © 2025 PNL Ing. Milenka Segundo Arteaga. Derechos reservados.</p>
            </div>
            <div class="footer-right">
                <span>@USS</span>
            </div>
        </footer>
    </div>

    <!-- Modal: Nuevo/Editar Denuncia -->
    <div class="modal" id="modalDenuncia">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Nuevo Reporte de Denuncia</h2>
                <button class="modal-close" id="modalClose">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <form id="formDenuncia">
                    <input type="hidden" id="denunciaId">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="titulo">Título</label>
                            <input type="text" id="titulo" name="titulo" placeholder="Ingrese título" required>
                        </div>
                        <div class="form-group">
                            <label for="ciudadano">Ciudadano</label>
                            <input type="text" id="ciudadano" name="ciudadano" placeholder="Ingrese nombre del ciudadano" required>
                            <small class="error-message" id="errorCiudadano"></small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="descripcion">Descripción</label>
                            <textarea id="descripcion" name="descripcion" rows="4" placeholder="Ingrese descripción" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="estado">Estado</label>
                            <select id="estado" name="estado" required>
                                <option value="">Seleccione un estado</option>
                                <option value="Pendiente">Pendiente</option>
                                <option value="En proceso">En proceso</option>
                                <option value="Resuelto">Resuelto</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="ubicacion">Ubicación</label>
                            <input type="text" id="ubicacion" name="ubicacion" placeholder="Ingrese ubicación (ej. coordenadas o dirección)" required>
                        </div>
                        <div class="form-group">
                            <label for="telefono">Teléfono</label>
                            <input type="text" id="telefono" name="telefono_ciudadano" placeholder="Ingrese teléfono (solo números)" maxlength="15">
                            <small class="error-message" id="errorTelefono"></small>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="fecha">Fecha</label>
                            <input type="date" id="fecha" name="fecha" placeholder="dd/mm/aaaa">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btnCerrarModal">Cerrar</button>
                <button type="button" class="btn btn-primary" id="btnGuardar">Guardar</button>
            </div>
        </div>
    </div>

    <!-- Modal: Confirmar Eliminación -->
    <div class="modal" id="modalEliminar">
        <div class="modal-content modal-danger">
            <div class="modal-header">
                <h2>Eliminar registro</h2>
            </div>
            <div class="modal-body">
                <p>¿Deseas eliminar al registro?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" id="btnCerrarEliminar">Cerrar</button>
                <button type="button" class="btn btn-danger" id="btnConfirmarEliminar">Eliminar</button>
            </div>
        </div>
    </div>

    <script src="assets/js/app.js"></script>
</body>
</html>

